{
  "$schema": "https://opencode.ai/config.json",

  "permission": {
    "*": "allow",

    "bash": {
      "*": "ask",

      "ls *": "allow",
      "cat *": "allow",
      "head *": "allow",
      "tail *": "allow",
      "wc *": "allow",
      "find *": "allow",
      "grep *": "allow",
      "rg *": "allow",
      "fd *": "allow",
      "tree *": "allow",
      "which *": "allow",
      "file *": "allow",
      "stat *": "allow",
      "du *": "allow",
      "df *": "allow",
      "pwd": "allow",
      "echo *": "allow",
      "jq *": "allow",
      "yq *": "allow",
      "diff *": "allow",
      "sort *": "allow",
      "uniq *": "allow",
      "dirname *": "allow",
      "basename *": "allow",
      "realpath *": "allow",
      "readlink *": "allow",

      "* --version": "allow",
      "* --help": "allow",
      "* --help *": "allow",

      "git status": "allow",
      "git status *": "allow",
      "git diff": "allow",
      "git diff *": "allow",
      "git log": "allow",
      "git log *": "allow",
      "git show *": "allow",
      "git branch": "allow",
      "git branch *": "allow",
      "git blame *": "allow",
      "git remote *": "allow",
      "git rev-parse *": "allow",
      "git ls-files": "allow",
      "git ls-files *": "allow",
      "git stash list": "allow",
      "git stash list *": "allow",
      "git tag": "allow",
      "git tag *": "allow",
      "git shortlog *": "allow",

      "npm run *": "allow",
      "npm test": "allow",
      "npm test *": "allow",
      "npm run build *": "allow",
      "npm run lint *": "allow",
      "npm run format *": "allow",
      "npm list *": "allow",
      "npm ls *": "allow",
      "npm outdated *": "allow",
      "npm info *": "allow",
      "npm view *": "allow",
      "npx tsc": "allow",
      "npx tsc *": "allow",
      "npx eslint *": "allow",
      "npx prettier *": "allow",
      "npx jest *": "allow",
      "npx vitest *": "allow",

      "node *": "allow",
      "python *": "allow",
      "python3 *": "allow",
      "pytest *": "allow",
      "mypy *": "allow",
      "ruff *": "allow",
      "black *": "allow",
      "flake8 *": "allow",
      "pylint *": "allow",
      "uv run *": "allow",
      "poetry run *": "allow",

      "go build *": "allow",
      "go test *": "allow",
      "go run *": "allow",
      "go vet *": "allow",
      "go fmt *": "allow",
      "go doc *": "allow",
      "go list *": "allow",
      "go mod tidy": "allow",
      "go mod tidy *": "allow",
      "go version": "allow",
      "go version *": "allow",
      "go env *": "allow",
      "golangci-lint *": "allow",
      "staticcheck *": "allow",

      "make": "allow",
      "make *": "allow",

      "git commit *": "deny",
      "git push": "deny",
      "git push *": "deny",
      "git merge *": "deny",
      "git rebase *": "deny",
      "git reset *": "deny",
      "git checkout *": "deny",
      "git switch *": "deny",
      "git cherry-pick *": "deny",
      "git revert *": "deny",
      "git clean *": "deny",
      "git stash *": "deny",
      "git pull": "deny",
      "git pull *": "deny",
      "git tag -d *": "deny",
      "git branch -D *": "deny",
      "git branch -d *": "deny",

      "rm *": "deny",
      "rmdir *": "deny",
      "mv *": "deny",
      "cp *": "deny",
      "chmod *": "deny",
      "chown *": "deny",
      "chgrp *": "deny",
      "ln *": "deny",
      "mkdir *": "deny",
      "touch *": "deny",
      "truncate *": "deny",
      "shred *": "deny",
      "dd *": "deny",

      "sudo *": "deny",
      "su *": "deny",
      "doas *": "deny",
      "pkexec *": "deny",

      "systemctl *": "deny",
      "service *": "deny",
      "journalctl *": "deny",
      "shutdown *": "deny",
      "reboot *": "deny",
      "poweroff *": "deny",
      "mount *": "deny",
      "umount *": "deny",
      "fdisk *": "deny",
      "mkfs *": "deny",

      "useradd *": "deny",
      "userdel *": "deny",
      "usermod *": "deny",
      "groupadd *": "deny",
      "passwd *": "deny",
      "visudo *": "deny",
      "crontab *": "deny",
      "at *": "deny",

      "iptables *": "deny",
      "nft *": "deny",
      "firewall-cmd *": "deny",

      "kill *": "deny",
      "killall *": "deny",
      "pkill *": "deny",

      "curl *": "deny",
      "wget *": "deny",
      "ssh *": "deny",
      "scp *": "deny",
      "rsync *": "deny",
      "ftp *": "deny",
      "sftp *": "deny",
      "nc *": "deny",
      "ncat *": "deny",
      "telnet *": "deny",
      "nmap *": "deny",

      "npm install": "deny",
      "npm install *": "deny",
      "npm i": "deny",
      "npm i *": "deny",
      "npm ci": "deny",
      "npm ci *": "deny",
      "npm uninstall *": "deny",
      "npm update *": "deny",
      "npm publish *": "deny",
      "npm link *": "deny",
      "npm init *": "deny",
      "npx create-* *": "deny",

      "pip install *": "deny",
      "pip uninstall *": "deny",
      "pip3 install *": "deny",
      "pip3 uninstall *": "deny",
      "uv pip install *": "deny",
      "uv add *": "deny",
      "poetry add *": "deny",
      "poetry install *": "deny",

      "go install *": "deny",
      "go get *": "deny",

      "docker *": "deny",
      "podman *": "deny",
      "kubectl *": "deny",
      "helm *": "deny",
      "terraform *": "deny",
      "ansible *": "deny",
      "vagrant *": "deny",

      "eval *": "deny",
      "exec *": "deny",
      "source *": "deny",
      "bash -c *": "deny",
      "sh -c *": "deny",
      "zsh -c *": "deny",
      "xargs *": "deny",
      "env *": "deny",
      "nohup *": "deny",
      "screen *": "deny",
      "tmux *": "deny",
      "export *": "deny",
      "unset *": "deny",
      "alias *": "deny",

      "dnf *": "deny",
      "yum *": "deny",
      "apt *": "deny",
      "apt-get *": "deny",
      "brew *": "deny",
      "snap *": "deny",
      "flatpak *": "deny",
      "rpm *": "deny"
    },

    "read": {
      "*": "allow",
      "*.env": "deny",
      "*.env.*": "deny",
      "*.env.example": "allow",
      "**/secrets/**": "deny",
      "**/*.pem": "deny",
      "**/*.key": "deny",
      "**/id_rsa*": "deny",
      "**/id_ed25519*": "deny",
      "~/.ssh/**": "deny",
      "~/.gnupg/**": "deny",
      "~/.aws/credentials": "deny",
      "~/.config/gcloud/**": "deny"
    },

    "edit": "allow",
    "glob": "allow",
    "grep": "allow",
    "list": "allow",
    "task": "allow",
    "skill": "allow",
    "lsp": "allow",
    "todoread": "allow",
    "todowrite": "allow",
    "webfetch": "allow",
    "external_directory": "ask",
    "doom_loop": "ask"
  },

  "provider": {
    "ollama": {
      "npm": "@ai-sdk/openai-compatible",
      "name": "Ollama (local)",
      "options": {
        "baseURL": "http://localhost:8080/v1"
      },
      "models": {
        "Devstral": {
          "name": "Devstral-Small-2507"
        }
      }
    }
  }
}
